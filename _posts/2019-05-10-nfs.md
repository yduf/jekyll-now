---
published: true
title: NFS - Network File System
tags: nfs linux client server filesystem
---

### Refs
- [How To Set Up an NFS Mount](https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-18-04)
- [Ubuntu](https://help.ubuntu.com/community/SettingUpNFSHowTo#Shares)

# Client

{% highlight cpp %}
sudo apt install nfs-common
{% endhighlight %}

# Host

## [Creating the Exported Directories on the Host](https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-18-04#step-3-%E2%80%94-configuring-the-nfs-exports-on-the-host-server)

**/etc/exports**
{% highlight cpp %}
directory_to_share    client(share_option1,...,share_optionN)
{% endhighlight %}

### Options details
- rw: This option gives the client computer both read and write access to the volume.
- sync: This option forces NFS to write changes to disk before replying. This results in a more stable and consistent environment since the reply reflects the actual state of the remote volume. However, it also reduces the speed of file operations.
- no_subtree_check: This option prevents subtree checking, which is a process where the host must check whether the file is actually still available in the exported tree for every request. This can cause many problems when a file is renamed while the client has it opened. In almost all cases, it is better to disable subtree checking.
- no_root_squash: By default, NFS translates requests from a root user remotely into a non-privileged user on the server. This was intended as security feature to prevent a root account on the client from using the file system of the host as root. no_root_squash disables this behavior for certain shares.



