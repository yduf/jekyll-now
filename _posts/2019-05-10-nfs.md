---
published: true
title: NFS - Network File System
tags: nfs linux client server filesystem
---

### Refs
- [How To Set Up an NFS Mount](https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-18-04)
- [Ubuntu](https://help.ubuntu.com/community/SettingUpNFSHowTo#Shares)
- [NFS Client Configuration To Mount NFS Share](https://www.cyberciti.biz/tips/ubuntu-linux-nfs-client-configuration-to-mount-nfs-share.html)

# Client

### List exporter folder for given server
{% highlight cpp %}
showmount -e <server ip>
{% endhighlight %}
  
### Mount Shared Directory
{% highlight cpp %}
sudo mkdir -p /nfs/home
sudo mount 203.0.113.0:/home /nfs/home
{% endhighlight %}

###Â Autofs automount

- [ubuntu](https://help.ubuntu.com/community/Autofs)
- [How to use autofs](https://opensource.com/article/18/6/using-autofs-mount-nfs-shares)
- [stack](https://askubuntu.com/questions/884389/auto-mount-nfs-via-autonfs)
  
  
# Host

## [Creating the Exported Directories on the Host](https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-18-04#step-3-%E2%80%94-configuring-the-nfs-exports-on-the-host-server)

**/etc/exports**
{% highlight cpp %}
directory_to_share    client(share_option1,...,share_optionN)
{% endhighlight %}

### Options details
- rw: This option gives the client computer both read and write access to the volume.
- sync: This option forces NFS to write changes to disk before replying. This results in a more stable and consistent environment since the reply reflects the actual state of the remote volume. However, it also reduces the speed of file operations.
- no_subtree_check: This option prevents subtree checking, which is a process where the host must check whether the file is actually still available in the exported tree for every request. This can cause many problems when a file is renamed while the client has it opened. In almost all cases, it is better to disable subtree checking.
- no_root_squash: By default, NFS translates requests from a root user remotely into a non-privileged user on the server. This was intended as security feature to prevent a root account on the client from using the file system of the host as root. no_root_squash disables this behavior for certain shares.

# Install

{% highlight cpp %}
sudo apt install nfs-common
{% endhighlight %}
